{"version":3,"names":["search","props","__props","catchTreeNone","JSON","parse","stringify","treeNone","tree","common_vendor","ref","newCheckList","checkList","tree_stack","nodePathArray","searchResult","scrollLeft","oldNum","newNum","isre","searchRef","emit","__emit","initComponent","value","length","options","multiple","checkStrictly","checkAllChoose","getNodeRoute","keyValue","arr","reverse","concat","children","index","__f__","tree2","targetId","endRecursiveLoop","push","radioSelect","computed","item","list","isActive","isSelect","bx","qx","i","findIndex","e","toChildren","user","showLoading","title","nextTick$1","hideLoading","computAllNumber","j","checkSum","id","o","t","forEach","checkbox","path","getPath","_objectSpread2","_toConsumableArray2","map","Object","assign","slice","getIdBydelete","splice","checkboxChange","findIdex","name","newObj","pathList","chooseChild","oldPath","len","newItem","newPath","confirmSearch","val","searchTree","setTimeout","data","keyword","label","indexOf","backTree","max","backConfirm","handleClick","wx","createComponent","Component"],"sources":["tree.vue","tree.vue?type=component"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"header\">\r\n\t\t\t<search v-if=\"searchIf\" ref=\"searchRef\" @confirm=\"confirmSearch\" />\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t<scroll-view scroll-x style=\"width: 100%;white-space: nowrap;\" :scroll-left=\"scrollLeft\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in tree_stack\" class=\"inline-item\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"inline-item\" v-if=\"index==0\" @click=\"backTree(item,-1)\">\r\n\t\t\t\t\t\t\t<text :class=\"[(isActive(index)&&!isre)?'none':'active']\">全部</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-if=\"index==0&&isre\" @click=\"backTree(item,-2)\"\r\n\t\t\t\t\t\t\t:class=\"[(index==tree_stack.length-1&&isre)?'none':'active','inline-item']\">\r\n\t\t\t\t\t\t\t<i class=\"iconfont icon-z043 iconclass\" />\r\n\t\t\t\t\t\t\t搜索结果\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"inline-item\" @click=\"backTree(item,index)\" v-if=\"index!=0\">\r\n\t\t\t\t\t\t\t<i class=\"iconfont icon-z043 iconclass\" />\r\n\t\t\t\t\t\t\t<text :class=\"isActive(index)?'none inline-ite':'active'\">\r\n\t\t\t\t\t\t\t\t{{item[props.options.label]}}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view>\r\n\t\t\t<view class=\"container-list\">\r\n\t\t\t\t<view class=\"common\" v-for=\"(item, index) in tree\" @click=\"handleClick(item,index)\" :key=\"index\">\r\n\t\t\t\t\t<label class=\"content\">\r\n\t\t\t\t\t\t<view class=\"list-item\" v-show=\"isCheck\">\r\n\t\t\t\t\t\t\t<!-- 多选 -->\r\n\t\t\t\t\t\t\t<view class=\"checkbox\" v-if=\"props.options.multiple\" @click.stop=\"handleClick(item,-1)\">\r\n\t\t\t\t\t\t\t\t<span v-if=\"isSelect(item)\">\r\n\t\t\t\t\t\t\t\t\t<i v-if=\"item.bx&&newCheckList.length!=0\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"iconfont icon-banxuanzhongshousuo1-shi icons\" />\r\n\t\t\t\t\t\t\t\t\t<i v-else class=\"iconfont icon-xuanzhong txt icon-selected\" />\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<i v-else-if=\"item.qx\" class=\"iconfont icon-xuanzhong txt icon-selected\" />\r\n\t\t\t\t\t\t\t\t<i v-else-if=\"item.bx\" class=\"iconfont icon-banxuanzhongshousuo1-shi icons\" />\r\n\t\t\t\t\t\t\t\t<i style=\"color: #b8b8b8;\" v-else class=\"iconfont icon-weixuanzhong txt\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 单选 -->\r\n\t\t\t\t\t\t\t<view class=\"checkbox\" v-else-if=\"(props.options.nodes?item.user?true:false:true)\"\r\n\t\t\t\t\t\t\t\t@click.stop=\"handleClick(item,-1)\">\r\n\t\t\t\t\t\t\t\t<i v-if=\"radioSelect(item)\" class=\"txt iconfont icon-selected\" />\r\n\t\t\t\t\t\t\t\t<i style=\"color: #b8b8b8;\" v-else class=\"txt iconfont icon-weixuanzhong1\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"lable-text\">{{item[props.options.label]}}</view>\r\n\t\t\t\t\t\t<view class=\"right\"><i v-if=\"!item.user&&item.children.length>0\"\r\n\t\t\t\t\t\t\t\tclass=\"iconfont icon-z043 iconclass\"></i></view>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn box_sizing\">\r\n\t\t\t<button class=\"sureBtn\" type=\"primary\" @click=\"backConfirm\">确认</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport search from './search/index.vue'\r\n\timport {\r\n\t\tref,\r\n\t\treactive,\r\n\t\tdefineProps,\r\n\t\tcomputed,\r\n\t\tnextTick,defineEmits\r\n\t} from 'vue'\r\n\tconst props = defineProps({\r\n\t\ttreeNone: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcheckList: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t},\r\n\t\tkeyValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'id'\r\n\t\t},\r\n\t\tsearchIf: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tisCheck: true,\r\n\t\tcheckList: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tparentList: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\toptions: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabel: 'name',\r\n\t\t\t\t\tchildren: 'children',\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tcheckStrictly: false //不关联\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\t\r\n\tconst catchTreeNone = JSON.parse(JSON.stringify(props.treeNone)),\r\n\t\ttree = ref(props.treeNone),\r\n\t\tnewCheckList = ref(props.checkList),\r\n\t\ttree_stack = ref([1]),\r\n\t\tnodePathArray = ref([]),\r\n\t\tsearchResult = ref([]),\r\n\t\tscrollLeft = ref(999),\r\n\t\toldNum = ref(0),\r\n\t\tnewNum = ref(0),\r\n\t\tisre = ref(false),\r\n\t\tsearchRef = ref(null);\r\n\tconst emit = defineEmits(['sendValue'])\r\n\t// 初始化\r\n\tconst initComponent = () => {\r\n\t\tif (newCheckList.value.length !== 0) {\r\n\t\t\tif (props.options.multiple) {\r\n\t\t\t\tif (props.options.checkStrictly) {\r\n\t\t\t\t\tcheckAllChoose();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgetNodeRoute(catchTreeNone, newCheckList.value[0][props.keyValue])\r\n\t\t\t\tlet arr = nodePathArray.value.reverse()\r\n\t\t\t\tif (arr.length == 0) return\r\n\t\t\t\ttree_stack.value = tree_stack.value.concat(arr);\r\n\t\t\t\ttree.value = tree_stack.value[tree_stack.value.length - 1].children;\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(props.options)\r\n\t}\r\n\tinitComponent()\r\n\t// (tree为目标树，targetId为目标节点id)\r\n\tfunction getNodeRoute(tree, targetId) {\r\n\t\tfor (let index = 0; index < tree.length; index++) {\r\n\t\t\tif (tree[index].children) {\r\n\t\t\t\tlet endRecursiveLoop = getNodeRoute(tree[index].children, targetId)\r\n\t\t\t\tif (endRecursiveLoop) {\r\n\t\t\t\t\tnodePathArray.value.push(tree[index])\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (tree[index][props.keyValue] === targetId) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst radioSelect = computed(() => {\r\n\t\treturn (item) => {\r\n\t\t\tconst list = newCheckList.value\r\n\t\t\treturn list.length > 0 && item[props.keyValue] == list[0][props.keyValue]\r\n\t\t}\r\n\t})\r\n\tconst isActive = computed(() => {\r\n\t\treturn (index) => {\r\n\t\t\treturn index === tree_stack.value.length - 1\r\n\t\t}\r\n\t})\r\n\tconst isSelect = computed(() => {\r\n\t\treturn (item) => {\r\n\t\t\tconst checkList = newCheckList.value\r\n\t\t\tif (checkList.length == 0) {\r\n\t\t\t\tprops.options.checkStrictly ? (item.bx = 0, item.qx = 0) : ''\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\tconst i = checkList.findIndex(e => {\r\n\t\t\t\treturn item[props.keyValue] == e[props.keyValue]\r\n\t\t\t}) > -1\r\n\t\t\treturn i && !item.qx\r\n\t\t}\r\n\t})\r\n\t//到下一级\r\n\tfunction toChildren(item) {\r\n\t\tif (item.user) return\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '加载中'\r\n\t\t})\r\n\t\tlet children = props.options.children;\r\n\t\tif (!item.user && item[children].length > 0 && !(tree_stack.value[0][props.keyValue] == item[props.keyValue])) {\r\n\t\t\ttree.value = item[children];\r\n\t\t\ttree_stack.value.push(item);\r\n\t\t}\r\n\t\tnextTick(() => {\r\n\t\t\tuni.hideLoading()\r\n\t\t\tscrollLeft.value += 200;\r\n\t\t})\r\n\t\tif (props.options.checkStrictly) checkAllChoose();\r\n\t}\r\n\r\n\tfunction computAllNumber(arr) {\r\n\t\tfor (let j = 0; j < arr.length; j++) {\r\n\t\t\tvar e = arr[j];\r\n\t\t\tcheckSum(e[props.keyValue])\r\n\t\t\tif (e.user) {\r\n\t\t\t\tnewNum.value++;\r\n\t\t\t} else {\r\n\t\t\t\tcomputAllNumber(e.children)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction checkSum(id) {\r\n\t\tfor (let i = 0; i < newCheckList.value.length; i++) {\r\n\t\t\tif (id == newCheckList.value[i][props.keyValue]) {\r\n\t\t\t\toldNum.value++;\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction checkAllChoose() {\r\n\t\tlet o = false,\r\n\t\t\tt = true;\r\n\t\ttree.value.forEach((e, i) => {\r\n\t\t\tif (!e.user) {\r\n\t\t\t\te.qx = o;\r\n\t\t\t\te.bx = o;\r\n\t\t\t\tcomputAllNumber(e.children);\r\n\t\t\t\tif (newNum.value != 0 && oldNum.value != 0) {\r\n\t\t\t\t\tif (newNum.value == oldNum.value) {\r\n\t\t\t\t\t\te.qx = t;\r\n\t\t\t\t\t\te.bx = o;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.qx = o;\r\n\t\t\t\t\t\te.bx = t;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (newNum.value != 0 && oldNum.value == 0) {\r\n\t\t\t\t\ttree.value[i].bx = o\r\n\t\t\t\t\ttree.value[i].qx = o\r\n\t\t\t\t}\r\n\t\t\t\tnewNum.value = 0\r\n\t\t\t\toldNum.value = 0\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t//单选\r\n\tfunction checkbox(item, index) {\r\n\t\tconst path = getPath()\r\n\t\tnewCheckList.value = [{\r\n\t\t\t...item,\r\n\t\t\tpath\r\n\t\t}]\r\n\t}\r\n\t// 获取路径\r\n\tfunction getPath() {\r\n\t\tconst path = [...tree_stack.value].map(e => {\r\n\t\t\tconst item = Object.assign({}, e)\r\n\t\t\tdelete item[props.options.children]\r\n\t\t\treturn item\r\n\t\t})\r\n\t\treturn path.slice(1, path.length) || []\r\n\t}\r\n\t// 取消下一级的选中\r\n\tfunction getIdBydelete(arr) {\r\n\t\tarr.forEach(e => {\r\n\t\t\tif (e.user) {\r\n\t\t\t\tfor (var i = 0; i < newCheckList.value.length; i++) {\r\n\t\t\t\t\tif (e[props.keyValue] == newCheckList.value[i][props.keyValue]) {\r\n\t\t\t\t\t\tnewCheckList.value.splice(i, 1)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tgetIdBydelete(e.children)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tfunction checkboxChange(item, index, bx, qx) {\r\n\t\tconst options = props.options\r\n\t\tif (!options.multiple) return;\r\n\t\tlet findIdex = newCheckList.value.findIndex(e => item[props.keyValue] == e[props.keyValue]);\r\n\t\tconst path = getPath();\r\n\t\tif (findIdex > -1) { //反选\r\n\t\t\tif (options.checkStrictly) { //关联子级\r\n\t\t\t\tif (item.user) { //用户\r\n\t\t\t\t\tnewCheckList.value.splice(findIdex, 1)\r\n\t\t\t\t} else { //非用户，取消所有下一级\r\n\t\t\t\t\tgetIdBydelete(item.children)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnewCheckList.value.splice(findIdex, 1)\r\n\t\t\t}\r\n\t\t} else { //选中\r\n\t\t\tif (!item.user && options.checkStrictly) { //选中下一级\r\n\t\t\t\tif (qx || bx) { //取消下级\r\n\t\t\t\t\tgetIdBydelete(item.children);\r\n\t\t\t\t\titem.qx = 0;\r\n\t\t\t\t\titem.bx = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\titem.qx = 1;\r\n\t\t\t\t\titem.bx = 0;\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tuser\r\n\t\t\t\t\t} = item\r\n\t\t\t\t\tconst newObj = {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tuser\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst pathList = tree_stack.value.length === 1 ? [newObj, ...path] : [...path, newObj]\r\n\t\t\t\t\tchooseChild(item.children, pathList);\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tnewCheckList.value.push({\r\n\t\t\t\t...item,\r\n\t\t\t\tpath\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t// 关联下一级,选中\r\n\tfunction chooseChild(arr, path) {\r\n\t\tconst oldPath = [...path]\r\n\t\tfor (var i = 0, len = arr.length; i < len; i++) {\r\n\t\t\tlet item = arr[i];\r\n\t\t\tif (item.user) {\r\n\t\t\t\tnewCheckList.value.push({\r\n\t\t\t\t\t...item,\r\n\t\t\t\t\tpath: oldPath\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tconst newItem = {\r\n\t\t\t\t\t...item\r\n\t\t\t\t}\r\n\t\t\t\tdelete newItem[props.options.children]\r\n\t\t\t\tconst newPath = [...oldPath, newItem]\r\n\t\t\t\tchooseChild(item.children, newPath)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//搜索\r\n\tfunction confirmSearch(val) {\r\n\t\tsearchResult.value = []\r\n\t\tsearchTree(catchTreeNone, val)\r\n\t\tisre.value = true\r\n\t\ttree_stack.value.splice(1, 1000)\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '正在查找'\r\n\t\t})\r\n\t\tsetTimeout(() => {\r\n\t\t\ttree.value = searchResult.value\r\n\t\t\tuni.hideLoading()\r\n\t\t}, 300)\r\n\t}\r\n\r\n\tfunction searchTree(data, keyword) {\r\n\t\tlet children = props.options.children;\r\n\t\tlet label = props.options.label;\r\n\t\tfor (var i = 0, len = data.length; i < len; i++) {\r\n\t\t\tif (data[i][label].indexOf(keyword) >= 0) {\r\n\t\t\t\tsearchResult.value.push(data[i])\r\n\t\t\t}\r\n\t\t\tif (!data[i].user && data[i][children].length > 0) {\r\n\t\t\t\tsearchTree(data[i][children], keyword)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t//返回其它层\r\n\tfunction backTree(item, index) {\r\n\t\tlet max = 300;\r\n\t\tif (index === -1) {\r\n\t\t\ttree.value = catchTreeNone\r\n\t\t\ttree_stack.value.splice(1, max)\r\n\t\t\tconsole.log(tree.value)\r\n\t\t\tisre.value = false\r\n\t\t\t// searchRef.value.clears()\r\n\t\t} else if (index === -2) { //搜索\r\n\t\t\ttree.value = searchResult.value\r\n\t\t\ttree_stack.value.splice(1, max)\r\n\t\t} else {\r\n\t\t\tif (tree_stack.value.length - index > 2) {\r\n\t\t\t\ttree_stack.value.splice(index + 1, max)\r\n\t\t\t} else if (index !== tree_stack.value.length - 1) {\r\n\t\t\t\ttree_stack.value.splice(tree_stack.value.length - 1, 1)\r\n\t\t\t}\r\n\t\t\ttree.value = item[props.options.children]\r\n\t\t}\r\n\t\tif (props.options.checkStrictly) checkAllChoose();\r\n\t}\r\n\r\n\tfunction backConfirm() {\r\n\t\temit('sendValue',newCheckList.value,'back')\r\n\t}\r\n\tconst handleClick = (item, index) => {\r\n\t\tlet children = item[props.options.children]\r\n\t\tif (index > -1 && children && children.length > 0) {\r\n\t\t\ttoChildren(item)\r\n\t\t} else if (props.options.multiple) {\r\n\t\t\tcheckboxChange(item, index, item.bx, item.qx)\r\n\t\t} else {\r\n\t\t\tcheckbox(item, index)\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t@import './css/style.scss';\r\n\t@import url(\"./css/icon.css\");\r\n</style>","import Component from '/Users/zq/fengqing/staff/components/xiaolu-tree-vue3/tree.vue'\nwx.createComponent(Component)"],"mappings":"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","ignoreList":[]}